<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>fetch component</title>

    <ol>
        <li>Fragments krijgen een preview van content, niet langer rechtstreeks de edit velden.</li>
        <li>klik op fragment op het te editeren</li>
        <li>Sidebar met edit fields opent</li>
        <li>Saven van deze edit form sluit de sidebar en refreshed de fragment preview</li>
        <li>Nesting: binnen een fragment edit kunnen fragments bevatten die op hun beurt kunnen worden ge-editeerd.</li>
    </ol>

    <!-- Global Styles -->
    <style>
        *{
            font-size: 20px;
            color: black;
            background-color: white;
        }

        section{
            border:1px solid black;
            border-radius: 5px;
            margin-bottom: 10px;
            padding:10px;
        }

        .hidden{ display: none; }
    </style>
    <script src="main.js"></script>
</head>
<body>
<div class="flex-center position-ref full-height">

    <div class="content">
        <h1 class="title m-b-md">
            fetch component
        </h1>

        <section>
            <h3>Card #1</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consequatur debitis, dolor iste modi sit? Amet cum itaque, iure tempora totam ut. Debitis facere illo iste magni porro sunt tempora.</p>
            <button id="one" data-target="/modules/module-one.html">edit</button>
        </section>
        <section>
            <h3>Card #1</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquam consequatur debitis, dolor iste modi sit? Amet cum itaque, iure tempora totam ut. Debitis facere illo iste magni porro sunt tempora.</p>
            <button id="two" data-target="/modules/module-two.html">edit</button>
        </section>

        <hr>
        <section id="sidebar">

        </section>

        <module-component id="module-component" style="display:block; width:100%; height:500px;">
            <span slot="header">Dit is den header</span>
            Awesome content!
        </module-component>

        <script>
            document.querySelectorAll('[data-target]').forEach(button => {
                button.addEventListener('click', (e) => {
                    editModule(e.target.getAttribute('data-target'));
                })
            });

            function editModule(src) {
                const module = document.createElement('module-component');
                module.src = src;
                document.getElementById('sidebar').append(module);
            }
        </script>

    </div>
</div>

</body>
</html>